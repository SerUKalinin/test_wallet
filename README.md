# Wallet Service

Сервис для управления кошельками с поддержкой операций пополнения и снятия средств.

## Требования

- Java 17
- Docker и Docker Compose
- Gradle

## Запуск приложения

1. Собрать приложение:
```bash
./gradlew build
```

2. Запустить с помощью Docker Compose:
```bash
docker-compose up -d
```

Приложение будет доступно по адресу: http://localhost:8080

## API Endpoints

### Выполнить операцию с кошельком
```
POST /api/v1/wallet
Content-Type: application/json

{
    "walletId": "11111111-1111-1111-1111-111111111111",
    "operationType": "DEPOSIT|WITHDRAW",
    "amount": 1000.00
}
```

Пример ответа:
```json
{
    "id": "11111111-1111-1111-1111-111111111111",
    "balance": 2000.00
}
```

### Получить информацию о кошельке
```
GET /api/v1/wallets/{walletId}
```

Пример ответа:
```json
{
    "id": "11111111-1111-1111-1111-111111111111",
    "balance": 1000.00
}
```

## Тестовые кошельки

В базе данных предустановлены три тестовых кошелька:

1. ID: `11111111-1111-1111-1111-111111111111` - баланс: 1000.00
2. ID: `22222222-2222-2222-2222-222222222222` - баланс: 2000.00
3. ID: `33333333-3333-3333-3333-333333333333` - баланс: 3000.00

## Коды ошибок

- `200 OK` - операция выполнена успешно
- `400 Bad Request` - некорректный запрос
- `404 Not Found` - кошелек не найден
- `409 Conflict` - недостаточно средств для списания

## Swagger UI

Документация API доступна по адресу: http://localhost:8080/swagger-ui.html

## Настройка

Основные параметры можно настроить через переменные окружения:

- `DB_USERNAME` - имя пользователя базы данных (по умолчанию: dev)
- `DB_PASSWORD` - пароль базы данных (по умолчанию: devpass)
- `LOG_LEVEL` - уровень логирования (по умолчанию: INFO)
